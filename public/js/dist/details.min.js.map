{"version":3,"sources":["details.js"],"names":["displayDetails","basicData","additionalData","detailsContent","response","getElementById","innerHTML","body","items","isArray","item","log","img","document","src","firstimage","alt","title","textContent","createElement","innerText","addr","addr1","description","doc","DOMParser","parseFromString","homepage","querySelector","href","homepageLink","target","appendChild","disabilityInfo","classList","wheelchair","exit","concat","elevator","restroom","guidesystem","blindhandicapetc","signguide","videoguide","hearingroom","barrierInfo","nursingroom","babysparechair","babycarriage","auditorium","room","noBarrierFreeInfo","braileblock","audioguide","largeprintguide","brailepromotionalmaterial","imageGallery","className","route","images","forEach","imgElement","ticketoffice","promotionalmaterial","noImages","originimgurl","addEventListener","contentId","URLSearchParams","window","location","search","get","urlParams","headers","Content-Type","JSON","stringify","then","json","fetch","method","all","console","error"],"mappings":"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","file":"details.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const contentId = urlParams.get('contentId');\r\n\r\n    if (!contentId) {\r\n        document.getElementById('detailContent').innerText = 'No content ID provided';\r\n        return;\r\n    }\r\n\r\n    // 두 API에서 데이터를 모두 가져오기\r\n    Promise.all([\r\n        fetch('/barrier-free-info', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ contentId: contentId })\r\n        }).then(response => response.json()),\r\n        fetch('/get-disability-info-and-images', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ contentId: contentId })\r\n        }).then(response => response.json())\r\n    ])\r\n    .then(([basicData, additionalData]) => {\r\n        console.log('Basic Data:', basicData); // 추가된 로그\r\n        console.log('Additional Data:', additionalData); // 추가된 로그\r\n        displayDetails(basicData, additionalData);\r\n    })\r\n    .catch(error => {\r\n        console.error('Error fetching data:', error);\r\n        document.getElementById('detailContent').innerText = 'Error fetching data';\r\n    });\r\n});\r\n\r\nfunction displayDetails(basicData, additionalData) {\r\n    const detailsContent = document.getElementById('detailContent');\r\n    detailsContent.innerHTML = ''; // Clear previous details\r\n\r\n    // 기본 데이터 처리\r\n    if (basicData.response && basicData.response.body && basicData.response.body.items) {\r\n        const item = Array.isArray(basicData.response.body.items.item) ? basicData.response.body.items.item[0] : basicData.response.body.items.item;\r\n        if (item) {\r\n            const img = document.createElement('img');\r\n            img.src = item.firstimage || 'images/default-image.jpg'; // Use default image\r\n            img.alt = item.title || 'No title';\r\n\r\n            const title = document.createElement('h2');\r\n            title.textContent = item.title || '제목 없음';\r\n\r\n            const addr = document.createElement('p');\r\n            addr.textContent = item.addr1 || '주소 없음';\r\n\r\n            const description = document.createElement('p');\r\n            description.textContent = item.overview || 'No description available';\r\n\r\n            const homepageLink = document.createElement('a');\r\n            const parser = new DOMParser();\r\n            const doc = parser.parseFromString(item.homepage, 'text/html');\r\n            const link = doc.querySelector('a') ? doc.querySelector('a').href : '#';\r\n            homepageLink.href = link;\r\n            homepageLink.textContent = '홈페이지 이동';\r\n            homepageLink.target = '_blank';\r\n\r\n            detailsContent.appendChild(img);\r\n            detailsContent.appendChild(title);\r\n            detailsContent.appendChild(addr);\r\n            detailsContent.appendChild(description);\r\n            detailsContent.appendChild(homepageLink);\r\n        } else {\r\n            detailsContent.innerHTML = 'No details available';\r\n        }\r\n    } else {\r\n        detailsContent.innerHTML = 'No details available';\r\n    }\r\n\r\n    // 추가 데이터 처리\r\n    if (additionalData.disabilityInfo && additionalData.disabilityInfo.response.body.items.item) {\r\n        const item = additionalData.disabilityInfo.response.body.items.item[0];\r\n\r\n        const barrierInfo = document.createElement('div');\r\n        barrierInfo.classList.add('barrier-info');\r\n        barrierInfo.innerHTML = `\r\n            <h3>무장애 편의 정보</h3>\r\n            ${item.wheelchair ? `<p>휠체어: ${item.wheelchair}</p>` : ''}\r\n            ${item.exit ? `<p>출구: ${item.exit}</p>` : ''}\r\n            ${item.elevator ? `<p>엘리베이터: ${item.elevator}</p>` : ''}\r\n            ${item.restroom ? `<p>장애인 화장실: ${item.restroom}</p>` : ''}\r\n            ${item.guidesystem ? `<p>유도 시스템: ${item.guidesystem}</p>` : ''}\r\n            ${item.blindhandicapetc ? `<p>시각 장애인 기타: ${item.blindhandicapetc}</p>` : ''}\r\n            ${item.signguide ? `<p>표지판 안내: ${item.signguide}</p>` : ''}\r\n            ${item.videoguide ? `<p>비디오 안내: ${item.videoguide}</p>` : ''}\r\n            ${item.hearingroom ? `<p>청각 장애인 실: ${item.hearingroom}</p>` : ''}\r\n            ${item.hearinghandicapetc ? `<p>청각 장애인 기타: ${item.hearinghandicapetc}</p>` : ''}\r\n            ${item.stroller ? `<p>유모차: ${item.stroller}</p>` : ''}\r\n            ${item.nursingroom ? `<p>수유실: ${item.nursingroom}</p>` : ''}\r\n            ${item.babysparechair ? `<p>유아 보조 의자: ${item.babysparechair}</p>` : ''}\r\n            ${item.babycarriage ? `<p>유아 및 가족 기타: ${item.babycarriage}</p>` : ''}\r\n            ${item.auditorium ? `<p>강당: ${item.auditorium}</p>` : ''}\r\n            ${item.room ? `<p>방: ${item.room}</p>` : ''}\r\n            ${item.other ? `<p>기타 장애인 시설: ${item.other}</p>` : ''}\r\n            ${item.braileblock ? `<p>점자 블록: ${item.braileblock}</p>` : ''}\r\n            ${item.blindhandicapetc ? `<p>안내견: ${item.blindhandicapetc}</p>` : ''}\r\n            ${item.guidesystem ? `<p>안내 인력: ${item.guidesystem}</p>` : ''}\r\n            ${item.audioguide ? `<p>오디오 안내: ${item.audioguide}</p>` : ''}\r\n            ${item.largeprintguide ? `<p>큰 글씨 안내: ${item.largeprintguide}</p>` : ''}\r\n            ${item.brailepromotionalmaterial ? `<p>점자 홍보물: ${item.brailepromotionalmaterial}</p>` : ''}\r\n            ${item.parking ? `<p>주차: ${item.parking}</p>` : ''}\r\n            ${item.route ? `<p>경로: ${item.route}</p>` : ''}\r\n            ${item.publictransport ? `<p>대중교통: ${item.publictransport}</p>` : ''}\r\n            ${item.ticketoffice ? `<p>티켓 오피스: ${item.ticketoffice}</p>` : ''}\r\n            ${item.promotionalmaterial ? `<p>홍보물: ${item.promotionalmaterial}</p>` : ''}\r\n        `;\r\n        detailsContent.appendChild(barrierInfo);\r\n    } else {\r\n        const noBarrierFreeInfo = document.createElement('p');\r\n        noBarrierFreeInfo.innerText = 'No barrier-free information available';\r\n        detailsContent.appendChild(noBarrierFreeInfo);\r\n    }\r\n\r\n    // 이미지 갤러리 추가\r\n    if (additionalData.images && additionalData.images.response.body.items.item) {\r\n        const imageGallery = document.createElement('div');\r\n        imageGallery.className = 'image-gallery';\r\n        additionalData.images.response.body.items.item.forEach(img => {\r\n            const imgElement = document.createElement('img');\r\n            imgElement.src = img.originimgurl;\r\n            imageGallery.appendChild(imgElement);\r\n        });\r\n        detailsContent.appendChild(imageGallery);\r\n    } else {\r\n        const noImages = document.createElement('p');\r\n        noImages.innerText = '이미지 없음';\r\n        detailsContent.appendChild(noImages);\r\n    }\r\n\r\n}"]}