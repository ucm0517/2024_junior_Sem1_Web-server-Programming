{"version":3,"sources":["merged-detail.js"],"names":["displayDetails","item","detailsContent","document","getElementById","title","innerText","createElement","addr","description","overview","appendChild","imageGallery","split","forEach","imgElement","src","noImages","homepageLink","homepage","textContent","target","noHomepage","mapContainer","mapOption","maps","center","kakao","LatLng","mapy","mapx","level","map","Marker","position","setMap","barrierFreeInfo","noBarrierFreeInfo","displayAdditionalInfo","data","disabilityInfo","images","introInfo","response","items","barrierInfo","add","body","innerHTML","originimgurl","elevator","restroom","concat","guidesystem","blindhandicapetc","signguide","videoguide","hearingroom","hearinghandicapetc","stroller","nursingroom","babysparechair","introInfoDiv","babycarriage","auditorium","other","noIntroInfo","braileblock","audioguide","largeprintguide","brailepromotionalmaterial","parking","route","publictransport","ticketoffice","promotionalmaterial","className","img","addEventListener","URLSearchParams","window","location","search","get","contentId","fetch","method","headers","Content-Type","JSON","stringify","json","error","then"],"mappings":"aA6CK,SAdDA,eAAAC,GA/BJ,IAAAC,EAAAC,SAAAC,eAAA,iBAiDUF,EAAAA,SAAiBC,cAASC,MAIhCC,EAAMC,UAAYL,EAAKI,OAAS,QADhCH,EAAcC,YAASI,GAKvB,IAAMC,EAAOL,SAASI,cAAc,KAApCC,EAAMA,UAAeP,EAACM,OAAT,QACbC,EAAiBP,YAAAO,GAIjB,IAAMC,EAAcN,SAASI,cAA7B,KAMI,GALJE,EAAYH,UAAYL,EAAKS,UAAY,2BACzCR,EAAeS,YAAYF,GAIjBG,EAAAA,WAAeT,CACrBS,IAAAA,EAAyBT,SAAAI,cAAzB,OACIK,EAAYC,UAAWC,gBACvBb,EAAMc,WAAaZ,MAAAA,KAASI,QAAAA,SAAAA,GAC5BQ,IAAWC,EAAXb,SAAAI,cAAA,OACAK,EAAaD,IAAAA,EAHjBC,EAAAD,YAAAI,KAHJb,EASOS,YAAAC,OACGK,CACNA,IAASX,EAAYH,SAArBI,cAAA,KACAL,EAAAA,UAAeS,SAGnBT,EAAAS,YAAAM,GAEI,GAAMC,EAAAA,SAAef,CACrBe,IAAAA,EAAyBC,SAAzBZ,cAAA,KACAW,EAAaE,KAAbnB,EAA2BkB,SAC3BD,EAAaG,YAAb,UACAnB,EAAeS,OAAf,SALJT,EAMOS,YAAAO,OACGI,CACNA,IAAUA,EAAanB,SAAAI,cAAvB,KACAL,EAAeS,UAAYW,aAG/BpB,EAAAS,YAAAW,GAEI,GAAMC,EAAAA,MAAYtB,EAAGE,KAASC,CACxBoB,IAAAA,EAAYrB,SAAAC,eAAA,OACNoB,EAAUC,CACbC,OAAE,IAAAC,MAAAF,KAAAG,OAAA3B,EAAA4B,KAAA5B,EAAA6B,MAFXC,MAAA,GAKYC,EAAG,IAAIL,MAAMF,KAAKQ,IAAOV,EAAAC,GACnBG,IAAMF,MAAKG,KAAO3B,OAAK4B,CADzCK,SAAA,IAAAP,MAAAF,KAAAG,OAAA3B,EAAA4B,KAAA5B,EAAA6B,QAMJK,OAAAH,GAEI,GAAMI,EAAAA,cAAkBjC,CACxBiC,IAAAA,EAAAjC,SAAAI,cAAA,OAIAL,EAAeS,UAAfT,mEAAAA,OAEMmC,EAAAA,cAFNnC,kBAIAA,EAAeS,YAAY0B,OAC9B,CACJ,IAAAA,EAAAlC,SAAAI,cAAA,KAHO8B,EAAkB/B,UAAY,wCAKtCJ,EAASoC,YAATD,IAEI,SAAMnC,sBAAyBqC,GAACnC,IADxBoC,EAAsCD,EAAtCC,eAAgBC,EAAsBF,EAAtBE,OAAQC,EAAcH,EAAdG,UAI3BF,EAAeG,SAAcC,eAAY,iBAK9CC,GAAAA,EAAsBC,SAAIC,KAAAH,MAA1B3C,KAAA4C,CAgCA3C,IAAAA,EAAeS,EAAYkC,SAA3BE,KAEAH,MAAA3C,KAAA,GACIwC,EAAgBM,SAAW9C,cAAM,OAArC,GACI4C,EAAMjC,UAAeT,IAAAA,gBACrBS,EAAYoC,UAAZpC,yCAAAA,OAEUG,EAAAA,WAAAA,WAAAA,OAAsBR,EAAAA,WAAtBQ,QAAN,GAFJH,cAAAA,OAGIG,EAAAA,KAAAA,UAAAA,OAAqBkC,EAAAA,KAArBlC,QAAA,GAHJH,cAAAA,OAIIA,EAAAA,SAAAA,aAAAA,OAAyBG,EAAzBmC,SAAAtC,QAAA,GAJJA,cAAAA,OACAX,EAAAkD,SAAA,eAAAC,OAAAnD,EAAAkD,SAAA,QAAA,GADAvC,cAAAA,OAMAV,EAAAA,YAAAA,cAAAA,OAAAD,EAAAoD,YAAAnD,QAAA,GANAU,cAAAA,OAOGX,EAAAqD,iBAAA,iBAAAF,OAAAnD,EAAAqD,iBAAA,QAAA,GAPH1C,cAAAA,OAQMK,EAAAA,UAAAA,cAAAA,OAAWhB,EAAjBsD,UAAMtC,QAAN,GARAL,cAAAA,OASAK,EAASX,WAATW,cAAAA,OAAAhB,EAAAuD,WAAAvC,QAAA,GATAL,cAAAA,OAUAV,EAAAA,YAAAA,gBAAAA,OAAAD,EAAAwD,YAAAvD,QAAA,GAVAU,cAAAA,OAaJX,EAAAyD,mBAAA,iBAAAN,OAAAnD,EAAAyD,mBAAA,QAAA,GAbI9C,cAAAA,OAxBEX,EAAK0D,SAAL,WAAAP,OAA2BnD,EAAK0D,SAAhC,QAAiD,GAwBnD/C,cAAAA,OAvBEX,EAAK2D,YAAL,WAAAR,OAA8BnD,EAAK2D,YAAnC,QAAuD,GAuBzDhD,cAAAA,OAcA8B,EAASmB,eAATnB,gBAAAA,OAAazC,EAAjB4D,eAAInB,QAAiD,GAdjD9B,cAAAA,OAeMkD,EAAAA,aAAAA,kBAAAA,OAAsC7D,EAA5C8D,aAAMD,QAAN,GAfAlD,cAAAA,OAgBAkD,EAAAA,WAAAA,UAAAA,OAAA7D,EAAA+D,WAAAF,QAAA,GAhBAlD,cAAAA,OAoBAV,EAAAA,KAAAA,SAAAA,OAA2B4D,EAAAA,KAA3B5D,QAAA,GApBAU,cAAAA,OAqBGX,EAAAgE,MAAA,iBAAAb,OAAAnD,EAAAgE,MAAA,QAAA,GArBHrD,cAAAA,OAsBMsD,EAAAA,YAAAA,aAAAA,OAAuB3D,EAAc4D,YAArCD,QAAN,GAtBAtD,cAAAA,OAuBAsD,EAAWZ,iBAAXY,WAAAA,OAAAjE,EAAAqD,iBAAAY,QAAA,GAvBAtD,cAAAA,OAwBAV,EAAAA,YAAAA,aAAAA,OAAAD,EAAAoD,YAAAnD,QAAA,GAxBAU,cAAAA,OAyBHX,EAAAmE,WAAA,cAAAhB,OAAAnD,EAAAmE,WAAA,QAAA,GAzBGxD,cAAAA,OA0BPX,EAAAoE,gBAAA,eAAAjB,OAAAnD,EAAAoE,gBAAA,QAAA,GA1BOzD,cAAAA,OAZEX,EAAKqE,0BAAL,cAAAlB,OAA+CnD,EAAKqE,0BAApD,QAAsF,GAYxF1D,cAAAA,OAXEX,EAAKsE,QAAL,UAAAnB,OAAyBnD,EAAKsE,QAA9B,QAA8C,GAWhD3D,cAAAA,OAVEX,EAAKuE,MAAL,UAAApB,OAAuBnD,EAAKuE,MAA5B,QAA0C,GAU5C5D,cAAAA,OATEX,EAAKwE,gBAAL,YAAArB,OAAmCnD,EAAKwE,gBAAxC,QAAgE,GASlE7D,cAAAA,OAREX,EAAKyE,aAAL,cAAAtB,OAAkCnD,EAAKyE,aAAvC,QAA4D,GAQ9D9D,cAAAA,OAPEX,EAAK0E,oBAAL,WAAAvB,OAAsCnD,EAAK0E,oBAA3C,QAAuE,GAOzE/D,UALJV,EAAeS,YAAYkC,GAGvBJ,EAAOE,SAASI,KAAKH,MAAM3C,KAAM,CACjC,IAAMW,EAAeT,SAASI,cAAc,OAC5CK,EAAagE,UAAY,gBACzBnC,EAAOE,SAASI,KAAKH,MAAM3C,KAAKa,QAAQ,SAAA+D,GACpC,IAAM9D,EAAaZ,SAASI,cAAc,OAC1CQ,EAAWC,IAAM6D,EAAI5B,aACrBrC,EAAaD,YAAYI,KAE7Bb,EAAeS,YAAYC,OACxB,CACH,IAAMK,EAAWd,SAASI,cAAc,KACxCU,EAASX,UAAY,SACrBJ,EAAeS,YAAYM,GAI/B,GAAIyB,GAAaA,EAAUC,SAASI,KAAKH,MAAM3C,KAAM,CACjD,IAAM6D,EAAe3D,SAASI,cAAc,OAC5CuD,EAAad,UAAb,gDAAAI,OAESV,EAAUC,SAASI,KAAKH,MAAM3C,KAAK,GAAGS,UAAY,WAF3D,kBAIAR,EAAeS,YAAYmD,OACxB,CACH,IAAMI,EAAc/D,SAASI,cAAc,KAC3C2D,EAAY5D,UAAY,WACxBJ,EAAeS,YAAYuD,KAnMnC/D,SAAS2E,iBAAiB,mBAAoB,WAC1C,IADKA,EACa,IAAIC,gBAAgBC,OAAOC,SAASC,QADhCC,IAAA,aAEhBC,GAQNC,MAAM,qBAAsB,CACxBC,OAAQ,OADNC,QAAA,CACMC,eADgB,oBAGpBzC,KAAA0C,KAAAC,UAAgB,CAAAN,UAAAA,MAEpBrC,KAAM0C,SAAAA,GAAKC,OAAAA,EAAUC,SAAEP,KAAAA,SAAAA,GAAjB7C,EAAAI,UAAAJ,EAAAI,SAAAI,MAAAR,EAAAI,SAAAI,KAAAH,OAAAL,EAAAI,SAAAI,KAAAH,MAAA3C,KAEJD,eAAA2C,EAAQA,SAAAI,KAAAH,MAAA3C,MACRE,SAAAoC,eAAQ,iBAAAjC,UAAA,yBARd,MAWW,SAAAsF,GACHzF,QAASC,MAAAA,8BAAgCE,GAC5CH,SAAAC,eAAA,iBAAAE,UAAA,+BAbL+E,MAoBA,kCAAA,CAEIC,OAAQ,OADNC,QAAA,CACMC,eAD6B,oBAGjCzC,KAAA0C,KAAAC,UAAgB,CAAAN,UAAAA,MAEpBrC,KAAM0C,SAAAA,GAAKC,OAAAA,EAAUC,SAAEP,KAAAA,SAAAA,GAAjB9C,sBAAAC,KA1BV,MA4BkBI,SAAAA,GACjBkD,QAAKD,MAAArD,kCAAQqD,GACVtD,SAAAA,eAAA,iBAAAhC,UAAA,oCAnCAH,SAASC,eAAe,iBAAiBE,UAAY","file":"merged-detail.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const contentId = urlParams.get('contentId');\r\n\r\n    if (!contentId) {\r\n        document.getElementById('detailContent').innerText = 'No content ID provided';\r\n        return;\r\n    }\r\n\r\n    // Fetch basic details\r\n    fetch('/barrier-free-info', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ contentId: contentId })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        if (data.response && data.response.body && data.response.body.items && data.response.body.items.item) {\r\n            displayDetails(data.response.body.items.item);\r\n        } else {\r\n            document.getElementById('detailContent').innerText = 'No details available';\r\n        }\r\n    })\r\n    .catch(error => {\r\n        console.error('Error fetching detail data:', error);\r\n        document.getElementById('detailContent').innerText = 'Error fetching detail data';\r\n    });\r\n\r\n    // Fetch additional info (disability info and images)\r\n    fetch('/get-disability-info-and-images', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ contentId: contentId })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        displayAdditionalInfo(data);\r\n    })\r\n    .catch(error => {\r\n        console.error('Error fetching additional data:', error);\r\n        document.getElementById('detailContent').innerText = 'Error fetching additional data';\r\n    });\r\n});\r\n\r\nfunction displayDetails(item) {\r\n    const detailsContent = document.getElementById('detailContent');\r\n\r\n    // 제목\r\n    const title = document.createElement('h2');\r\n    title.innerText = item.title || '제목 없음';\r\n    detailsContent.appendChild(title);\r\n\r\n    // 주소\r\n    const addr = document.createElement('p');\r\n    addr.innerText = item.addr1 || '주소 없음';\r\n    detailsContent.appendChild(addr);\r\n\r\n    // 상세 설명\r\n    const description = document.createElement('p');\r\n    description.innerText = item.overview || 'No description available';\r\n    detailsContent.appendChild(description);\r\n\r\n    // 이미지 갤러리\r\n    if (item.firstimage) {\r\n        const imageGallery = document.createElement('div');\r\n        imageGallery.className = 'image-gallery';\r\n        item.firstimage.split('|').forEach(img => {\r\n            const imgElement = document.createElement('img');\r\n            imgElement.src = img;\r\n            imageGallery.appendChild(imgElement);\r\n        });\r\n        detailsContent.appendChild(imageGallery);\r\n    } else {\r\n        const noImages = document.createElement('p');\r\n        noImages.innerText = '이미지 없음';\r\n        detailsContent.appendChild(noImages);\r\n    }\r\n\r\n    // 홈페이지 링크\r\n    if (item.homepage) {\r\n        const homepageLink = document.createElement('a');\r\n        homepageLink.href = item.homepage;\r\n        homepageLink.textContent = '홈페이지 이동';\r\n        homepageLink.target = '_blank';\r\n        detailsContent.appendChild(homepageLink);\r\n    } else {\r\n        const noHomepage = document.createElement('p');\r\n        noHomepage.innerText = '홈페이지 정보 없음';\r\n        detailsContent.appendChild(noHomepage);\r\n    }\r\n\r\n    // 카카오 지도 API 설정\r\n    if (item.mapx && item.mapy) {\r\n        const mapContainer = document.getElementById('map');\r\n        const mapOption = { \r\n            center: new kakao.maps.LatLng(item.mapy, item.mapx),\r\n            level: 3 \r\n        };\r\n        const map = new kakao.maps.Map(mapContainer, mapOption);\r\n        const marker = new kakao.maps.Marker({\r\n            position: new kakao.maps.LatLng(item.mapy, item.mapx)\r\n        });\r\n        marker.setMap(map);\r\n    }\r\n\r\n    // 무장애 정보\r\n    if (item.bfree_content) {\r\n        const barrierFreeInfo = document.createElement('div');\r\n        barrierFreeInfo.innerHTML = `\r\n            <h3>Barrier-Free Information</h3>\r\n            <p>${item.bfree_content}</p>\r\n        `;\r\n        detailsContent.appendChild(barrierFreeInfo);\r\n    } else {\r\n        const noBarrierFreeInfo = document.createElement('p');\r\n        noBarrierFreeInfo.innerText = 'No barrier-free information available';\r\n        detailsContent.appendChild(noBarrierFreeInfo);\r\n    }\r\n}\r\n\r\nfunction displayAdditionalInfo(data) {\r\n    const { disabilityInfo, images, introInfo } = data;\r\n    const detailsContent = document.getElementById('detailContent');\r\n\r\n    // 추가 무장애 정보가 없으면 함수 종료\r\n    if (!disabilityInfo.response.body.items.item) return;\r\n\r\n    const item = disabilityInfo.response.body.items.item[0];\r\n    \r\n    const barrierInfo = document.createElement('div');\r\n    barrierInfo.classList.add('barrier-info');\r\n    barrierInfo.innerHTML = `\r\n        <h3>무장애 편의 정보</h3>\r\n        ${item.wheelchair ? `<p>휠체어: ${item.wheelchair}</p>` : ''}\r\n        ${item.exit ? `<p>출구: ${item.exit}</p>` : ''}\r\n        ${item.elevator ? `<p>엘리베이터: ${item.elevator}</p>` : ''}\r\n        ${item.restroom ? `<p>장애인 화장실: ${item.restroom}</p>` : ''}\r\n        ${item.guidesystem ? `<p>유도 시스템: ${item.guidesystem}</p>` : ''}\r\n        ${item.blindhandicapetc ? `<p>시각 장애인 기타: ${item.blindhandicapetc}</p>` : ''}\r\n        ${item.signguide ? `<p>표지판 안내: ${item.signguide}</p>` : ''}\r\n        ${item.videoguide ? `<p>비디오 안내: ${item.videoguide}</p>` : ''}\r\n        ${item.hearingroom ? `<p>청각 장애인 실: ${item.hearingroom}</p>` : ''}\r\n        ${item.hearinghandicapetc ? `<p>청각 장애인 기타: ${item.hearinghandicapetc}</p>` : ''}\r\n        ${item.stroller ? `<p>유모차: ${item.stroller}</p>` : ''}\r\n        ${item.nursingroom ? `<p>수유실: ${item.nursingroom}</p>` : ''}\r\n        ${item.babysparechair ? `<p>유아 보조 의자: ${item.babysparechair}</p>` : ''}\r\n        ${item.babycarriage ? `<p>유아 및 가족 기타: ${item.babycarriage}</p>` : ''}\r\n        ${item.auditorium ? `<p>강당: ${item.auditorium}</p>` : ''}\r\n        ${item.room ? `<p>방: ${item.room}</p>` : ''}\r\n        ${item.other ? `<p>기타 장애인 시설: ${item.other}</p>` : ''}\r\n        ${item.braileblock ? `<p>점자 블록: ${item.braileblock}</p>` : ''}\r\n        ${item.blindhandicapetc ? `<p>안내견: ${item.blindhandicapetc}</p>` : ''}\r\n        ${item.guidesystem ? `<p>안내 인력: ${item.guidesystem}</p>` : ''}\r\n        ${item.audioguide ? `<p>오디오 안내: ${item.audioguide}</p>` : ''}\r\n        ${item.largeprintguide ? `<p>큰 글씨 안내: ${item.largeprintguide}</p>` : ''}\r\n        ${item.brailepromotionalmaterial ? `<p>점자 홍보물: ${item.brailepromotionalmaterial}</p>` : ''}\r\n        ${item.parking ? `<p>주차: ${item.parking}</p>` : ''}\r\n        ${item.route ? `<p>경로: ${item.route}</p>` : ''}\r\n        ${item.publictransport ? `<p>대중교통: ${item.publictransport}</p>` : ''}\r\n        ${item.ticketoffice ? `<p>티켓 오피스: ${item.ticketoffice}</p>` : ''}\r\n        ${item.promotionalmaterial ? `<p>홍보물: ${item.promotionalmaterial}</p>` : ''}\r\n    `;\r\n    detailsContent.appendChild(barrierInfo);\r\n\r\n    // 이미지 갤러리 추가\r\n    if (images.response.body.items.item) {\r\n        const imageGallery = document.createElement('div');\r\n        imageGallery.className = 'image-gallery';\r\n        images.response.body.items.item.forEach(img => {\r\n            const imgElement = document.createElement('img');\r\n            imgElement.src = img.originimgurl;\r\n            imageGallery.appendChild(imgElement);\r\n        });\r\n        detailsContent.appendChild(imageGallery);\r\n    } else {\r\n        const noImages = document.createElement('p');\r\n        noImages.innerText = '이미지 없음';\r\n        detailsContent.appendChild(noImages);\r\n    }\r\n\r\n    // 소개 정보 추가\r\n    if (introInfo && introInfo.response.body.items.item) {\r\n        const introInfoDiv = document.createElement('div');\r\n        introInfoDiv.innerHTML = `\r\n            <h3>소개 정보</h3>\r\n            <p>${introInfo.response.body.items.item[0].overview || '소개 정보 없음'}</p>\r\n        `;\r\n        detailsContent.appendChild(introInfoDiv);\r\n    } else {\r\n        const noIntroInfo = document.createElement('p');\r\n        noIntroInfo.innerText = '소개 정보 없음';\r\n        detailsContent.appendChild(noIntroInfo);\r\n    }\r\n}"]}