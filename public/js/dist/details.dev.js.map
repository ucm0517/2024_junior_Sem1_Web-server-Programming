{"version":3,"sources":["details.js"],"names":["document","addEventListener","urlParams","URLSearchParams","window","location","search","contentId","get","getElementById","innerText","Promise","all","fetch","method","headers","body","JSON","stringify","then","response","json","basicData","additionalData","console","log","displayDetails","error","detailsContent","innerHTML","items","item","Array","isArray","img","createElement","src","firstimage","alt","title","textContent","addr","addr1","description","overview","homepageLink","parser","DOMParser","doc","parseFromString","homepage","link","querySelector","href","target","appendChild","disabilityInfo","barrierInfo","classList","add","wheelchair","exit","elevator","restroom","guidesystem","blindhandicapetc","signguide","videoguide","hearingroom","hearinghandicapetc","stroller","nursingroom","babysparechair","babycarriage","auditorium","room","other","braileblock","audioguide","largeprintguide","brailepromotionalmaterial","parking","route","publictransport","ticketoffice","promotionalmaterial","noBarrierFreeInfo","images","imageGallery","className","forEach","imgElement","originimgurl","noImages"],"mappings":"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","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const contentId = urlParams.get('contentId');\r\n\r\n    if (!contentId) {\r\n        document.getElementById('detailContent').innerText = 'No content ID provided';\r\n        return;\r\n    }\r\n\r\n    // 두 API에서 데이터를 모두 가져오기\r\n    Promise.all([\r\n        fetch('/barrier-free-info', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ contentId: contentId })\r\n        }).then(response => response.json()),\r\n        fetch('/get-disability-info-and-images', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ contentId: contentId })\r\n        }).then(response => response.json())\r\n    ])\r\n    .then(([basicData, additionalData]) => {\r\n        console.log('Basic Data:', basicData); // 추가된 로그\r\n        console.log('Additional Data:', additionalData); // 추가된 로그\r\n        displayDetails(basicData, additionalData);\r\n    })\r\n    .catch(error => {\r\n        console.error('Error fetching data:', error);\r\n        document.getElementById('detailContent').innerText = 'Error fetching data';\r\n    });\r\n});\r\n\r\nfunction displayDetails(basicData, additionalData) {\r\n    const detailsContent = document.getElementById('detailContent');\r\n    detailsContent.innerHTML = ''; // Clear previous details\r\n\r\n    // 기본 데이터 처리\r\n    if (basicData.response && basicData.response.body && basicData.response.body.items) {\r\n        const item = Array.isArray(basicData.response.body.items.item) ? basicData.response.body.items.item[0] : basicData.response.body.items.item;\r\n        if (item) {\r\n            const img = document.createElement('img');\r\n            img.src = item.firstimage || 'images/default-image.jpg'; // Use default image\r\n            img.alt = item.title || 'No title';\r\n\r\n            const title = document.createElement('h2');\r\n            title.textContent = item.title || '제목 없음';\r\n\r\n            const addr = document.createElement('p');\r\n            addr.textContent = item.addr1 || '주소 없음';\r\n\r\n            const description = document.createElement('p');\r\n            description.textContent = item.overview || 'No description available';\r\n\r\n            const homepageLink = document.createElement('a');\r\n            const parser = new DOMParser();\r\n            const doc = parser.parseFromString(item.homepage, 'text/html');\r\n            const link = doc.querySelector('a') ? doc.querySelector('a').href : '#';\r\n            homepageLink.href = link;\r\n            homepageLink.textContent = '홈페이지 이동';\r\n            homepageLink.target = '_blank';\r\n\r\n            detailsContent.appendChild(img);\r\n            detailsContent.appendChild(title);\r\n            detailsContent.appendChild(addr);\r\n            detailsContent.appendChild(description);\r\n            detailsContent.appendChild(homepageLink);\r\n        } else {\r\n            detailsContent.innerHTML = 'No details available';\r\n        }\r\n    } else {\r\n        detailsContent.innerHTML = 'No details available';\r\n    }\r\n\r\n    // 추가 데이터 처리\r\n    if (additionalData.disabilityInfo && additionalData.disabilityInfo.response.body.items.item) {\r\n        const item = additionalData.disabilityInfo.response.body.items.item[0];\r\n\r\n        const barrierInfo = document.createElement('div');\r\n        barrierInfo.classList.add('barrier-info');\r\n        barrierInfo.innerHTML = `\r\n            <h3>무장애 편의 정보</h3>\r\n            ${item.wheelchair ? `<p>휠체어: ${item.wheelchair}</p>` : ''}\r\n            ${item.exit ? `<p>출구: ${item.exit}</p>` : ''}\r\n            ${item.elevator ? `<p>엘리베이터: ${item.elevator}</p>` : ''}\r\n            ${item.restroom ? `<p>장애인 화장실: ${item.restroom}</p>` : ''}\r\n            ${item.guidesystem ? `<p>유도 시스템: ${item.guidesystem}</p>` : ''}\r\n            ${item.blindhandicapetc ? `<p>시각 장애인 기타: ${item.blindhandicapetc}</p>` : ''}\r\n            ${item.signguide ? `<p>표지판 안내: ${item.signguide}</p>` : ''}\r\n            ${item.videoguide ? `<p>비디오 안내: ${item.videoguide}</p>` : ''}\r\n            ${item.hearingroom ? `<p>청각 장애인 실: ${item.hearingroom}</p>` : ''}\r\n            ${item.hearinghandicapetc ? `<p>청각 장애인 기타: ${item.hearinghandicapetc}</p>` : ''}\r\n            ${item.stroller ? `<p>유모차: ${item.stroller}</p>` : ''}\r\n            ${item.nursingroom ? `<p>수유실: ${item.nursingroom}</p>` : ''}\r\n            ${item.babysparechair ? `<p>유아 보조 의자: ${item.babysparechair}</p>` : ''}\r\n            ${item.babycarriage ? `<p>유아 및 가족 기타: ${item.babycarriage}</p>` : ''}\r\n            ${item.auditorium ? `<p>강당: ${item.auditorium}</p>` : ''}\r\n            ${item.room ? `<p>방: ${item.room}</p>` : ''}\r\n            ${item.other ? `<p>기타 장애인 시설: ${item.other}</p>` : ''}\r\n            ${item.braileblock ? `<p>점자 블록: ${item.braileblock}</p>` : ''}\r\n            ${item.blindhandicapetc ? `<p>안내견: ${item.blindhandicapetc}</p>` : ''}\r\n            ${item.guidesystem ? `<p>안내 인력: ${item.guidesystem}</p>` : ''}\r\n            ${item.audioguide ? `<p>오디오 안내: ${item.audioguide}</p>` : ''}\r\n            ${item.largeprintguide ? `<p>큰 글씨 안내: ${item.largeprintguide}</p>` : ''}\r\n            ${item.brailepromotionalmaterial ? `<p>점자 홍보물: ${item.brailepromotionalmaterial}</p>` : ''}\r\n            ${item.parking ? `<p>주차: ${item.parking}</p>` : ''}\r\n            ${item.route ? `<p>경로: ${item.route}</p>` : ''}\r\n            ${item.publictransport ? `<p>대중교통: ${item.publictransport}</p>` : ''}\r\n            ${item.ticketoffice ? `<p>티켓 오피스: ${item.ticketoffice}</p>` : ''}\r\n            ${item.promotionalmaterial ? `<p>홍보물: ${item.promotionalmaterial}</p>` : ''}\r\n        `;\r\n        detailsContent.appendChild(barrierInfo);\r\n    } else {\r\n        const noBarrierFreeInfo = document.createElement('p');\r\n        noBarrierFreeInfo.innerText = 'No barrier-free information available';\r\n        detailsContent.appendChild(noBarrierFreeInfo);\r\n    }\r\n\r\n    // 이미지 갤러리 추가\r\n    if (additionalData.images && additionalData.images.response.body.items.item) {\r\n        const imageGallery = document.createElement('div');\r\n        imageGallery.className = 'image-gallery';\r\n        additionalData.images.response.body.items.item.forEach(img => {\r\n            const imgElement = document.createElement('img');\r\n            imgElement.src = img.originimgurl;\r\n            imageGallery.appendChild(imgElement);\r\n        });\r\n        detailsContent.appendChild(imageGallery);\r\n    } else {\r\n        const noImages = document.createElement('p');\r\n        noImages.innerText = '이미지 없음';\r\n        detailsContent.appendChild(noImages);\r\n    }\r\n\r\n}"],"file":"details.dev.js"}