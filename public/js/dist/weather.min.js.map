{"version":3,"sources":["weather.js"],"names":["document","addEventListener","querySelector","button","navigator","geolocation","getCurrentPosition","success","fail","window","onload","latitude","position","coords","longitude","getWeather","tempSection","placeSection","descSection","iconSection","method","headers","Content-Type","body","JSON","stringify","lat","lon","response","ok","Error","json","temperature","main","temp","place","name","description","weather","innerText","icon","setAttribute","iconURL","style","display","alert","_context","t0","message"],"mappings":"aAAAA,SAASC,iBAAiB,mBAAoB,WAC3BD,SAASE,cAAc,WAAhCC,iBAAkBD,QAAT,WAGXE,UAAUC,YAAYC,mBAAmBC,EAASC,KADtDC,OAAAC,OAAA,WAKIN,UAAUC,YAAYC,mBAAmBC,EAASC,IAAlDJ,IAAAA,EAAUC,SAAAA,GADd,IAAAM,EAAAC,EAAAC,OAAAF,SAMUG,EAAYF,EAASC,OAAOC,UAD5BH,EAAWC,EAASC,IAMxBL,EAAO,WAHTO,MAAU,uBAGJC,EAAJR,SAAaN,cAAA,gBACTe,EAAAjB,SAANE,cAAA,UADJgB,EAAAlB,SAAAE,cAAA,gBAOMiB,EAAcnB,SAASE,cAAc,SAFrCe,EAAejB,SAASE,EAAAA,GAATF,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,mBAAAA,MAAAA,SAAAA,GAAAA,OAAAA,OAAAA,EAAAA,KAAAA,EAAAA,MAAAA,KAAAA,EAAAA,OAAAA,EAAAA,KAAAA,EAAAA,EAAAA,KAAAA,EAAAA,mBAAAA,MAEQE,MAAAA,oCAA7B,CAKYkB,OAAQ,OAHJC,QAAG,CAAAC,eAAA,oBAAAC,KAAAC,KAAAC,UAAA,CAAAC,IAAAA,EAAAC,IAAAA,OAJE3B,KAAAA,EAAAA,IAEJ4B,EAFI5B,EAAAA,MAIF6B,GAJE7B,CAAAA,EAAAA,KAAAA,EAAAA,MAAAA,MAIF,IAAA8B,MAAA,+BAJE9B,KAAAA,EAAAA,OAAAA,EAAAA,KAAAA,EAAAA,mBAAAA,MAQA4B,EAAAG,QARA/B,KAAAA,EAQTqB,EARSrB,EAAAA,KASLgC,EAAgBD,EAAAE,KAAAC,KAH0CC,EAAAJ,EAAAK,KAK1DC,EAAOZ,EAAUa,QAAA,GAAAD,YAAOV,EAAAA,UAAAA,GAAAA,OAAAA,EAAAA,MAAPV,EAAfsB,UAAAJ,EALwDjB,EAFvDqB,UAAAF,EAAAG,EAAAT,EAAAO,QAAA,GAAAE,KAELZ,EANO5B,oCAAAA,OAIFwC,EAJExC,WAIFmB,EAUEsB,aAVF,MAAAC,GAAAvB,EAAAwB,MAAAC,QAAA,QAJE5C,EAAAA,KAAAA,GAAAA,MAAAA,KAAAA,GAAAA,EAAAA,KAAAA,GAAAA,EAAAA,GAAAA,EAAAA,MAAAA,GAIF6C,MAAA,yBAAAC,EAAAC,GAAAC,SAJEhD,KAAAA,GAAAA,IAAAA,MAAAA,OAAAA,EAAAA,SAAAA,KAAAA,KAAAA,CAAAA,CAAAA,EAAAA","file":"weather.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n    const button = document.querySelector('.button'); // 버튼 클릭 이벤트 생성\r\n\r\n    button.addEventListener('click', () => {\r\n        navigator.geolocation.getCurrentPosition(success, fail); // 위치 정보 요청\r\n    });\r\n\r\n    window.onload = () => { // 새로 고침하면 바로 위치 정보를 요청\r\n        navigator.geolocation.getCurrentPosition(success, fail);\r\n    }\r\n\r\n    const success = (position) => {\r\n        const latitude = position.coords.latitude; // 위도\r\n        const longitude = position.coords.longitude; // 경도\r\n\r\n        getWeather(latitude, longitude);\r\n    };\r\n\r\n    const fail = () => {\r\n        alert(\"위치 접근이 허용되지 않았습니다.\");\r\n    }\r\n\r\n    const tempSection = document.querySelector('.temperature');\r\n    const placeSection = document.querySelector('.place');\r\n    const descSection = document.querySelector('.description');\r\n    const iconSection = document.querySelector('.icon');\r\n\r\n    const getWeather = async (lat, lon) => {\r\n        try {\r\n            const response = await fetch('http://localhost:3000/get-weather', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ lat, lon }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n\r\n            const json = await response.json();\r\n            const temperature = json.main.temp;\r\n            const place = json.name;\r\n            const description = json.weather[0].description;\r\n\r\n            tempSection.innerText = `${temperature}°C`;\r\n            placeSection.innerText = place;\r\n            descSection.innerText = description;\r\n\r\n            const icon = json.weather[0].icon;\r\n            const iconURL = `http://openweathermap.org/img/wn/${icon}@2x.png`;\r\n\r\n            iconSection.setAttribute('src', iconURL);\r\n            iconSection.style.display = 'block'; // 이미지 로드 후 표시\r\n        } catch (error) {\r\n            alert('날씨 정보를 불러오는 데 실패했습니다: ' + error.message);\r\n        }\r\n    }\r\n});\r\n"]}