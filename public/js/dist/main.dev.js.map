{"version":3,"sources":["main.js"],"names":["document","addEventListener","dropdownToggles","querySelectorAll","userId","sessionStorage","getItem","fetchUserReviews","console","error","forEach","toggle","dropdown","nextElementSibling","classList","contains","style","display","dropdowns","currentPage","currentKeyword","getElementById","event","preventDefault","keyword","value","alert","searchKeyword","page","log","loadingSpinner","fetch","method","headers","body","JSON","stringify","pageNo","response","ok","json","data","displayResults","status","innerHTML","fetchDetails","contentId","localStorage","setItem","window","location","href","resultsDiv","items","item","length","list","createElement","listItem","add","img","src","firstimage","alt","title","itemInfo","className","textContent","addr","addr1","description","overview","appendChild","contentid","displayPagination","totalCount","paginationDiv","totalPages","Math","ceil","startPage","max","endPage","min","prevButton","i","pageButton","nextButton","loggedIn","username","fetchUserComments","logout","removeItem","then","success","displayUserReviews","reviews","reviewsContainer","review","reviewDiv","content","image","id","editReview","reviewId","newContent","prompt","reload","deleteReview","confirm","likeReview","likeCountSpan","likes","userComments","comments","comment","commentDiv","quotes","showNewQuote","quoteElement","randomIndex","floor","random","innerText"],"mappings":"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","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n    const dropdownToggles = document.querySelectorAll('.dropdown-toggle');\r\n    const userId = sessionStorage.getItem('userId'); // userId를 세션에서 가져옴\r\n    \r\n    if (userId) {\r\n        fetchUserReviews(userId); // userId를 사용하여 리뷰 가져오기\r\n    } else {\r\n        console.error('사용자 ID가 없습니다.');\r\n    }\r\n\r\n    dropdownToggles.forEach(toggle => {\r\n        toggle.addEventListener('mouseover', function() {\r\n            const dropdown = this.nextElementSibling;\r\n            if (dropdown && dropdown.classList.contains('nav-dropdown')) {\r\n                dropdown.style.display = 'block';\r\n            }\r\n        });\r\n\r\n        toggle.addEventListener('mouseout', function() {\r\n            const dropdown = this.nextElementSibling;\r\n            if (dropdown && dropdown.classList.contains('nav-dropdown')) {\r\n                dropdown.style.display = 'none';\r\n            }\r\n        });\r\n    });\r\n\r\n    const dropdowns = document.querySelectorAll('.nav-dropdown');\r\n\r\n    dropdowns.forEach(dropdown => {\r\n        dropdown.addEventListener('mouseover', function() {\r\n            this.style.display = 'block';\r\n        });\r\n\r\n        dropdown.addEventListener('mouseout', function() {\r\n            this.style.display = 'none';\r\n        });\r\n    });\r\n\r\n    let currentPage = 1;\r\n    let currentKeyword = '';\r\n\r\n    document.getElementById('searchForm').addEventListener('submit', function(event) {\r\n        event.preventDefault();\r\n        const keyword = document.getElementById('keyword').value;\r\n        if (!keyword) {\r\n            alert('Please enter a keyword.');\r\n            return;\r\n        }\r\n        currentKeyword = keyword;\r\n        currentPage = 1;\r\n        searchKeyword(keyword, currentPage);\r\n    });\r\n\r\n    async function searchKeyword(keyword, page) {\r\n        console.log(`Searching for keyword: ${keyword}, page: ${page}`);\r\n\r\n        const loadingSpinner = document.getElementById('loadingSpinner');\r\n        loadingSpinner.style.display = 'block';\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:3000/search-keyword', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ keyword: keyword, pageNo: page })\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                console.log('Received data:', data);\r\n                displayResults(data);\r\n            } else {\r\n                console.error('Error fetching data', response.status);\r\n                document.getElementById('results').innerHTML = 'Error fetching data';\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            document.getElementById('results').innerHTML = 'Error fetching data';\r\n        } finally {\r\n            loadingSpinner.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    async function fetchDetails(contentId) {\r\n        console.log(`Fetching details for contentId: ${contentId}`);\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:3000/get-disability-info-and-images', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ contentId: contentId })\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                console.log('Received detail data:', data);\r\n                localStorage.setItem('detailData', JSON.stringify(data));\r\n                window.location.href = 'details.html';\r\n            } else {\r\n                console.error('Error fetching detail data', response.status);\r\n                document.getElementById('detailsContent').innerHTML = 'Error fetching detail data';\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            document.getElementById('detailsContent').innerHTML = 'Error fetching detail data';\r\n        }\r\n    }\r\n\r\n    function displayResults(data) {\r\n        const resultsDiv = document.getElementById('results');\r\n        resultsDiv.innerHTML = '';\r\n\r\n        if (data.response && data.response.body && data.response.body.items) {\r\n            const items = data.response.body.items.item;\r\n            if (items && items.length > 0) {\r\n                const list = document.createElement('ul');\r\n                items.forEach(item => {\r\n                    const listItem = document.createElement('li');\r\n                    listItem.classList.add('search-result-item');\r\n\r\n                    const img = document.createElement('img');\r\n                    img.src = item.firstimage || 'default_image.png';\r\n                    img.alt = item.title;\r\n\r\n                    const itemInfo = document.createElement('div');\r\n                    itemInfo.className = 'item-info';\r\n                    const title = document.createElement('h3');\r\n                    title.textContent = item.title;\r\n                    const addr = document.createElement('p');\r\n                    addr.textContent = item.addr1;\r\n                    const description = document.createElement('p');\r\n                    description.textContent = item.overview || 'No description available';\r\n\r\n                    itemInfo.appendChild(title);\r\n                    itemInfo.appendChild(addr);\r\n                    itemInfo.appendChild(description);\r\n\r\n                    listItem.appendChild(img);\r\n                    listItem.appendChild(itemInfo);\r\n                    listItem.addEventListener('click', () => fetchDetails(item.contentid));\r\n\r\n                    list.appendChild(listItem);\r\n                });\r\n                resultsDiv.appendChild(list);\r\n                displayPagination(data.response.body.totalCount);\r\n            } else {\r\n                resultsDiv.innerHTML = 'No results found';\r\n            }\r\n        } else {\r\n            resultsDiv.innerHTML = '검색 결과가 없습니다.';\r\n        }\r\n    }\r\n\r\n    function displayPagination(totalCount) {\r\n        const paginationDiv = document.getElementById('pagination');\r\n        paginationDiv.innerHTML = '';\r\n\r\n        const totalPages = Math.ceil(totalCount / 5);\r\n        const startPage = Math.max(1, currentPage - 2);\r\n        const endPage = Math.min(totalPages, startPage + 4);\r\n\r\n        if (currentPage > 1) {\r\n            const prevButton = document.createElement('button');\r\n            prevButton.innerHTML = '&laquo;';\r\n            prevButton.className = 'arrow';\r\n            prevButton.addEventListener('click', () => {\r\n                currentPage--;\r\n                searchKeyword(currentKeyword, currentPage);\r\n            });\r\n            paginationDiv.appendChild(prevButton);\r\n        }\r\n\r\n        for (let i = startPage; i <= endPage; i++) {\r\n            const pageButton = document.createElement('button');\r\n            pageButton.textContent = i;\r\n            pageButton.addEventListener('click', () => {\r\n                currentPage = i;\r\n                searchKeyword(currentKeyword, currentPage);\r\n            });\r\n            paginationDiv.appendChild(pageButton);\r\n        }\r\n\r\n        if (currentPage < totalPages) {\r\n            const nextButton = document.createElement('button');\r\n            nextButton.innerHTML = '&raquo;';\r\n            nextButton.className = 'arrow';\r\n            nextButton.addEventListener('click', () => {\r\n                currentPage++;\r\n                searchKeyword(currentKeyword, currentPage);\r\n            });\r\n            paginationDiv.appendChild(nextButton);\r\n        }\r\n    }\r\n\r\n    // 로그인 상태 관리 로직 추가\r\n    const loggedIn = sessionStorage.getItem('loggedIn');\r\n    const username = sessionStorage.getItem('username');\r\n    if (loggedIn) {\r\n        document.getElementById('login-link').style.display = 'none';\r\n        document.getElementById('logout-link').style.display = 'inline';\r\n        document.getElementById('mypage-link').style.display = 'inline';\r\n        document.getElementById('mypage-link').textContent = username + '의 페이지';\r\n\r\n        // 리뷰와 댓글을 가져오기\r\n        fetchUserReviews(userId); // userId를 사용하여 리뷰 가져오기\r\n        fetchUserComments(userId); // userId를 사용하여 댓글 가져오기\r\n    } else {\r\n        document.getElementById('login-link').style.display = 'inline';\r\n        document.getElementById('logout-link').style.display = 'none';\r\n        document.getElementById('mypage-link').style.display = 'none';\r\n    }\r\n\r\n    function logout() {\r\n        sessionStorage.removeItem('loggedIn');\r\n        sessionStorage.removeItem('username');\r\n        window.location.href = 'index.html';\r\n    }\r\n\r\n    function fetchUserReviews(userId) {\r\n        fetch('/user-reviews', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ userId: userId }) // userId를 보냄\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log('User Reviews:', data); // 서버에서 받은 데이터 로그 출력\r\n            if (data.success) {\r\n                displayUserReviews(data.reviews);\r\n            } else {\r\n                console.error('리뷰를 가져오는 중 오류가 발생했습니다.');\r\n            }\r\n        })\r\n        .catch(error => console.error('Error:', error));\r\n    }\r\n\r\n    function displayUserReviews(reviews) {\r\n        const reviewsContainer = document.getElementById('userReviews');\r\n        reviewsContainer.innerHTML = ''; // 기존 내용을 지움\r\n        reviews.forEach(review => {\r\n            const reviewDiv = document.createElement('div');\r\n            reviewDiv.classList.add('review-item');\r\n            reviewDiv.innerHTML = `\r\n                <p>${review.content}</p>\r\n                ${review.image ? `<img src=\"/uploads/${review.image}\" alt=\"Review Image\">` : ''}\r\n                <button onclick=\"editReview(${review.id})\">수정</button>\r\n                <button onclick=\"deleteReview(${review.id})\">삭제</button>\r\n            `;\r\n            reviewsContainer.appendChild(reviewDiv);\r\n        });\r\n    }\r\n\r\n    function editReview(reviewId) {\r\n        const newContent = prompt('새로운 리뷰 내용을 입력하세요:');\r\n        if (newContent) {\r\n            fetch('/edit-review', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ reviewId: reviewId, newContent: newContent })\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.success) {\r\n                    alert('리뷰가 수정되었습니다.');\r\n                    location.reload(); // 수정된 리뷰를 표시하기 위해 페이지 새로고침\r\n                } else {\r\n                    alert('리뷰 수정에 실패했습니다.');\r\n                }\r\n            })\r\n            .catch(error => console.error('Error:', error));\r\n        }\r\n    }\r\n\r\n    function deleteReview(reviewId) {\r\n        if (confirm('정말로 이 리뷰를 삭제하시겠습니까?')) {\r\n            fetch('/delete-review', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ reviewId: reviewId })\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.success) {\r\n                    alert('리뷰가 삭제되었습니다.');\r\n                    location.reload(); // 삭제된 리뷰를 표시하기 위해 페이지 새로고침\r\n                } else {\r\n                    alert('리뷰 삭제에 실패했습니다.');\r\n                }\r\n            })\r\n            .catch(error => console.error('Error:', error));\r\n        }\r\n    }\r\n\r\n    function likeReview(reviewId) {\r\n        const userId = sessionStorage.getItem('userId'); // userId 가져오기\r\n        if (userId) {\r\n            fetch('/like-review', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ reviewId: reviewId, userId: userId })\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.success) {\r\n                    const likeCountSpan = document.getElementById(`likeCount-${reviewId}`);\r\n                    likeCountSpan.textContent = data.likes; // 새로운 좋아요 개수 업데이트\r\n                } else {\r\n                    alert('좋아요를 누르는데 실패했습니다.');\r\n                }\r\n            })\r\n            .catch(error => console.error('Error:', error));\r\n        } else {\r\n            alert('로그인이 필요합니다.');\r\n        }\r\n    }\r\n\r\n    function fetchUserComments(userId) {\r\n        fetch('/user-comments', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ userId: userId })\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log('User Comments:', data); // 서버에서 받은 데이터 로그 출력\r\n            const userComments = document.getElementById('userComments');\r\n            userComments.innerHTML = ''; // 기존 댓글 내용 초기화\r\n            data.comments.forEach(comment => {\r\n                const commentDiv = document.createElement('div');\r\n                commentDiv.className = 'comment';\r\n                commentDiv.innerHTML = `<p>${comment.content}</p>`;\r\n                userComments.appendChild(commentDiv);\r\n            });\r\n        })\r\n        .catch(error => console.error('Error:', error));\r\n    }\r\n});\r\n\r\n// 여행 명언\r\nconst quotes = [\r\n    \"여행은 당신을 겸손하게 만든다. 세상에서 당신이 차지하는 위치가 얼마나 작은 것인지를 깨닫게 해준다. - 귀스타브 플로베르\",\r\n    \"여행을 떠나는 이유는 돌아오기 위해서이다. - 체 게바라\",\r\n    \"여행은 짧고, 인생은 더 짧다. - 공자\",\r\n    \"여행을 떠나는 순간, 새로운 인생이 시작된다. - 마크 트웨인\",\r\n    \"세상은 한 권의 책이며, 여행하지 않는 자는 그 책의 한 페이지만 읽는 것이다. - 성 아우구스티누스\"\r\n];\r\n\r\nfunction showNewQuote() {\r\n    const quoteElement = document.getElementById(\"quote\");\r\n    const randomIndex = Math.floor(Math.random() * quotes.length);\r\n    quoteElement.innerText = quotes[randomIndex];\r\n}"],"file":"main.dev.js"}